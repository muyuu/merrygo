"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var e="merrygo",n="object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global;"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(n,require("jquery")):n[e]=t(n,$)}(function(t,e){function n(t){var n=".js-merrygo",s=r(t)?{}:t,o=void 0;r(s.root)&&(o=e(n)),r(s.root)||(o=s.root instanceof e?t.root:e(t.root));for(var a=o.length,u=[],h=0;a>h;h++)u[h]=new i(s,o[h]);return u}function i(t,n){return this.rootclass=n,this.opt={prefix:"js-",length:r(t.length)?1:t.length,force:r(t.force)?!1:t.force,inner:r(t.inner)?".js-merrygo__inner":t.inner,items:r(t.items)?".js-merrygo__items":t.items,item:r(t.item)?".js-merrygo__item":t.item,useArrow:r(t.useArrow)?!0:t.useArrow,arrow:r(t.arrow)?".js-merrygo__arrow":t.arrow,arrowPrev:r(t.arrowPrev)?".js-merrygo__arrowPrev":t.arrowPrev,arrowNext:r(t.arrowNext)?".js-merrygo__arrowNext":t.arrowNext,itemMargin:r(t.itemMargin)?0:t.itemMargin,useDots:r(t.useDots)?!0:t.useDots,dots:r(t.dots)?".js-merrygo__dots":t.dots,dot:r(t.dot)?".js-merrygo__dot":t.dot,dotContent:r(t.dotContent)?"â—‹":t.dotContent,currentClass:r(t.currentClass)?"current":t.currentClass,duration:r(t.duration)?400:t.duration,interval:r(t.interval)?3e3:t.interval,easing:r(t.easing)?"linear":t.easing,onOpen:t.onOpen||null,onClose:t.onClose||null,onClick:t.onClick||null,onAnimateEnd:t.onAnimateEnd||null},this.$root=e(n),this.$inner=this.$root.find(this.opt.inner),this.$items=this.$root.find(this.opt.items),this.$item=this.$root.find(this.opt.item),this.$dots=this.$root.find(this.opt.dots),this.$dot=this.$root.find(this.opt.dot),this.opt.useArrow&&(this.$arrow=this.$root.find(this.opt.arrow)),this.timer=null,this.resizeTimer=null,this.currentIndex=0,this.itemLength=this.$item.length,this.singleItemWidth=this.$item.first().outerWidth(!0),this.isAnimate=!1,this.isHover=!1,this.isRun()?(this.setDom(),this.reset(),this.setCss(),this.pushCurrentClass(),this.startTimerEvent(),this.setClickEvent(),this.setHoverEvent(),void this.setResizeEvent()):(this.opt.useArrow&&this.$arrow.hide(),!1)}var r=function(t){return void 0===t},s=function(t){return t.replace(".","")},o=function(t,e){return t.replace(e,"")},a=function(t,e){return s(t)+" "+o(s(t),e)};return e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,i,r,s){return e.easing[e.easing.def](t,n,i,r,s)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(-Math.pow(2,-10*e/r)+1)+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var s=1.70158,o=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(o||(o=.3*r),a<Math.abs(i)){a=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o))+n},easeOutElastic:function(t,e,n,i,r){var s=1.70158,o=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(o||(o=.3*r),a<Math.abs(i)){a=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/o)+i+n},easeInOutElastic:function(t,e,n,i,r){var s=1.70158,o=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(o||(o=r*(.3*1.5)),a<Math.abs(i)){a=i;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(i/a);return 1>e?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o))+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)*.5+i+n},easeInBack:function(t,e,n,i,r,s){return void 0==s&&(s=1.70158),i*(e/=r)*e*((s+1)*e-s)+n},easeOutBack:function(t,e,n,i,r,s){return void 0==s&&(s=1.70158),i*((e=e/r-1)*e*((s+1)*e+s)+1)+n},easeInOutBack:function(t,e,n,i,r,s){return void 0==s&&(s=1.70158),(e/=r/2)<1?i/2*(e*e*(((s*=1.525)+1)*e-s))+n:i/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+n},easeInBounce:function(t,n,i,r,s){return r-e.easing.easeOutBounce(t,s-n,0,r,s)+i},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,n,i,r,s){return s/2>n?.5*e.easing.easeInBounce(t,2*n,0,r,s)+i:.5*e.easing.easeOutBounce(t,2*n-s,0,r,s)+.5*r+i}}),i.prototype.isRun=function(){return this.itemLength>this.opt.length||this.opt.force},i.prototype.setDom=function(){this.setItems(),this.opt.useDots&&this.setDots()},i.prototype.setItems=function(){for(var t=this,n=0;1>=n;n++)this.$item.each(function(n,i){t.$items.append(e(i).clone(!0,!0))})},i.prototype.setDots=function(t){var e=this.makeDotsDomStr();this.$root.append(e),this.$dots=this.$root.find(this.opt.dots),this.$dot=this.$root.find(this.opt.dot)},i.prototype.makeDotsDomStr=function(){for(var t=this.$item.length,e="<ul class='"+a(this.opt.dots,this.opt.prefix)+"'>",n=0;t>n;n++)e+="<li class='"+a(this.opt.dot,this.opt.prefix)+"'>",e+="<span>",e+=this.opt.dotContent,e+="</span>",e+="</li>";return e+="</ul>"},i.prototype.setCss=function(){this.$items.css({width:this.singleItemWidth*this.itemLength*3,left:-(this.singleItemWidth*this.itemLength)}),this.$root.find(this.opt.item).css({width:this.singleItemWidth,"padding-left":this.opt.itemMargin/2,"padding-right":this.opt.itemMargin/2})},i.prototype.cancelTimerEvent=function(){clearInterval(this.timer)},i.prototype.startTimerEvent=function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t.next()},this.opt.interval)},i.prototype.setClickEvent=function(){var t=this;this.opt.useArrow&&this.$arrow.on("click",function(n){return t.isAnimate?!1:(t.isAnimate=!0,t.cancelTimerEvent(),e(n.currentTarget).hasClass(s(t.opt.arrowNext))&&t.next(),e(n.currentTarget).hasClass(s(t.opt.arrowPrev))&&t.prev(),!1)}),this.opt.useDots&&this.$dot.on("click",function(e){if(t.isAnimate)return!1;var n=t.$dot.index(e.currentTarget);n-t.currentIndex;return n===t.currentIndex?!1:(t.isAnimate=!0,t.cancelTimerEvent(),void t.moveToIndex(n))})},i.prototype.setHoverEvent=function(){var t=this;this.$root.find(this.opt.item).hover(function(){t.isHover=!0,t.isAnimate||(t.isAnimate=!1,t.cancelTimerEvent())},function(){t.isHover=!1,t.isAnimate||t.startTimerEvent()})},i.prototype.setResizeEvent=function(){var t=this;e(window).on("resize",function(){t.resizeHandler()})},i.prototype.resizeHandler=function(){var t=this;this.resizeTimer!==!1&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){t.reset()},200)},i.prototype.reset=function(){this.cancelTimerEvent(),this.singleItemWidth=e(this.rootclass).innerWidth()/this.opt.length,this.setCss(),this.startTimerEvent()},i.prototype.moveToIndex=function(t){return"number"!=typeof t?!1:this.move(t)},i.prototype.next=function(){return this.move("next")},i.prototype.prev=function(){return this.move("prev")},i.prototype.move=function(t){var e,n=this,i=this.currentIndex,r=-(this.singleItemWidth*this.itemLength);switch(t){case"next":e=1;break;case"prev":e=-1;break;default:e=t-i}return r-=e*this.singleItemWidth,this.pushCurrentClass(t),this.isAnimate=!0,this.$items.animate({left:r},this.opt.duration,this.opt.easing,function(){n.arrowCallback(t,e),n.startTimerEvent(),n.isAnimate=!1}),this},i.prototype.pushCurrentClass=function(t){this.changeIndex(t);var e=this.currentIndex,n=this.opt.currentClass;return this.$dot.removeClass(n),this.$dot.eq(e).addClass(n),this},i.prototype.changeIndex=function(t){return"next"===t&&this.currentIndex++,"prev"===t&&this.currentIndex--,"number"==typeof t&&(this.currentIndex=t),this.roundIndex(),this},i.prototype.roundIndex=function(){return this.currentIndex>=this.itemLength&&(this.currentIndex=0),this.currentIndex<0&&(this.currentIndex=this.itemLength-1),this},i.prototype.arrowCallback=function(t,e){var n=this.$items.find(this.opt.item);if("next"===t&&this.$items.append(n.first()),"prev"===t&&this.$items.prepend(n.last()),"number"==typeof t)for(var i=Math.abs(e),r=0;i>r;r++)e>0?this.$items.append(this.$items.find(this.opt.item).first()):this.$items.prepend(this.$items.find(this.opt.item).last());return this.$items.css({left:-(this.singleItemWidth*this.itemLength)}),this},n});
//# sourceMappingURL=merrygo.min.js.map
